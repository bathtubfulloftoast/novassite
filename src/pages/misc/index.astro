---
const basePath = "/misc/stuff"; // Adjust this to match your deployment path

// Import all files, including those inside subfolders
const files = Object.keys(import.meta.glob('./stuff/**/*.astro', { eager: true }));

// Convert file paths to valid Astro routes
const routes = files.map(file => {
  return file
    .replace('./stuff', '') // Change base path
    .replace('/index.astro', '/') // Convert index files to folder paths
    .replace('.astro', '') // Remove .astro extension
    .replace('/', ''); // Remove .astro extension
});

// this is so fucked kill me
// this is so bodged but it works rn so fuck off
---
<head>
<title>misc</title>
</head>
<h1>Misc Shit</h1>

{routes.map(route => (
  <a href={basePath + "/" + route}>{route}</a><br>
))}
